<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Celsius</title>

<style>
  /* ------------------------------------------------ */
  /* RESETEOS GENERALES                               */
  /* ------------------------------------------------ */
  *{
    margin:0;
    padding:0;
    box-sizing:border-box;
    font-family:Arial, Helvetica, sans-serif;
  }
  body{
    background:#f2f4f7;
    color:#000;
    --alturaHeader:80px;
  }
  
  /* ------------------------------------------------ */
  /* TOP BAR                                          */
  /* ------------------------------------------------ */
  .topbar{
    position:fixed;
    top:0;
    left:0;
    width:100%;
    height:auto;
    background:#C8E6C9;
    padding:10px;
    display:flex;
    align-items:center;
    justify-content:space-between;
    z-index:2000;
    border-bottom:2px solid #C8E6C9;
  }
  .logo-top img{
    height:45px;
    width:auto;
    border-radius:10px;
  }
  .search-box{
    display:flex;
    gap:8px;
    align-items:center;
  }
  .search-box input{
    padding:8px;
    width:200px;
    border-radius:10px;
    border:1px solid #C8E6C9;
  }
  .search-box .btn-search{
    padding:8px 14px;
    border-radius:10px;
    border:none;
    background:#C8E6C9;
    cursor:pointer;
  }
  .telefono-box{
    font-size:17px;
    font-weight:bold;
  }
  
  /* ------------------------------------------------ */
  /* MENU SUPERIOR (HOME ‚Äì OFERTAS ‚Äì ETC)             */
  /* ------------------------------------------------ */
  .menu-top-bar{
    position:fixed;
    top:var(--alturaHeader);
    left:0;
    width:100%;
    background:#fff;
    padding:10px;
    display:flex;
    gap:8px;
    justify-content:center;
    border-bottom:2px solid #C8E6C9;
    z-index:1500;
  }
  .menu-top-bar button{
    padding:8px 12px;
    border-radius:10px;
    border:none;
    background:#C8E6C9;
    cursor:pointer;
  }
  
  /* ------------------------------------------------ */
  /* MEN√ö LATERAL                                     */
  /* ------------------------------------------------ */
  .menu{
    position:fixed;
    top:calc(var(--alturaHeader) + 50px);
    left:0;
    width:240px;
    height:calc(100% - var(--alturaHeader) - 50px);
    background:#C8E6C9;
    box-shadow:2px 0 6px rgba(0,0,0,0.1);
    padding:10px;
    overflow-y:auto;
    z-index:1500;
    transition: all 0.3s;
  }
  .menu h1{
    font-size:20px;
    margin-bottom:10px;
  }
  .menu button{
    width:100%;
    padding:10px;
    background:white;
    border:none;
    margin-bottom:8px;
    border-radius:10px;
    cursor:pointer;
    font-size:16px;
    text-align:left;
  }
  
  /* Submen√∫s tipo acorde√≥n */
  .submenu{
    display:none; /* oculto por defecto */
    padding-left:15px;
    position: relative; /* dentro del flujo normal */
  }
  .submenu button{
    width:100%;
    background:#ddd;
    margin-top:5px;
    font-size:15px;
    text-align:left;
  }
  .submenu.activo{
    display:block; /* se expande correctamente */
  }
  
  /* ------------------------------------------------ */
  /* CONTENIDO GENERAL                                */
  /* ------------------------------------------------ */
  .contenido{
    background: transparent !important;
    position: relative !important;
    z-index: 1 !important;
    margin-top:calc(var(--alturaHeader) + 70px);
    padding:20px;
  }
  .seccion, .seccion-extra{
    background: transparent !important;
    position: relative !important;
    z-index: 1 !important;
    padding: 10px 20px;
    margin-bottom: 20px;
    height: auto !important;
    min-height: 0 !important;
  }
  
  /* Galer√≠a de productos */
  .galeria{
    display:flex;
    flex-wrap:wrap;
    gap:15px;
  }
  .producto{
    width:150px;
    background:#fff;
    padding:10px;
    border-radius:10px;
    box-shadow:0 0 5px rgba(0,0,0,0.2);
    text-align:center;
  }
  .producto img{
    width:100%;
    border-radius:10px;
  }
  
  /* SLIDER HOME */
  .slider-contenedor{
    width:100%;
    max-width:600px;
    margin:0 auto;
    position:relative;
    overflow:hidden;
    display:flex;
    justify-content:center;
    align-items:center;
  }
  .slide{
    display:none;
    width:100%;
  }
  .slide.activo{
    display:block;
  }
  .slide img{
    width:100%;
    height:auto;
    display:block;
  }
  .puntos{
    position:absolute;
    bottom:10px;
    left:50%;
    transform:translateX(-50%);
    display:flex;
    gap:5px;
    z-index:10;
  }
  .punto{
    width:12px;
    height:12px;
    border-radius:50%;
    background:#999;
    cursor:pointer;
  }
  .punto.activo{
    background:#333;
  }
  
  /* ------------------------------------------------ */
  /* RESPONSIVE MOVIL                                 */
  /* ------------------------------------------------ */
  @media(max-width:800px){
    .menu{
      width:200px;
      left:-240px; /* oculto por defecto */
    }
    .menu.activo{
      left:0;
    }
    .contenido{
      margin-left:0;
      padding:10px;
    }
    .slider-contenedor{
      max-width:100%;
    }
    .producto{
      width:45%;
    }
    .search-box input{
      width:120px;
    }
    .menu-top-bar{
      flex-wrap:wrap;
    }
    .topbar{
      flex-wrap:wrap;
      justify-content:center;
      gap:5px;
    }
    .logo-top img{
      height:40px;
    }
    .telefono-box{
      width:100%;
      text-align:center;
      margin-top:5px;
      font-size:15px;
    }
    .menu button{
      font-size:14px;
      padding:8px;
    }
    .submenu button{
      font-size:13px;
      padding:6px;
    }
    /* Submen√∫ m√≥vil */
    .submenu{
      background:#dcdcdc;
      border-radius:8px;
      padding:10px;
      display:none;
    }
    .submenu.activo{
      display:block;
    }
  }
  
  /* En PC (>800px) el contenido se corre a la derecha del men√∫ */
  @media(min-width:801px){
    .contenido{
      margin-left:260px;
      margin-top:calc(var(--alturaHeader) + 70px);
    }
    .menu{
      left:0;
    }
  }
  #menuLateral, #menuSubcategorias {
    width: 220px;
    background: #1f5a19;
    color: #fff;
    padding: 10px;
    float: left;
}

#menuLateral ul, #menuSubcategorias ul {
    list-style: none;
    padding: 0;
}

#menuLateral li, #menuSubcategorias li {
    padding: 8px;
    cursor: pointer;
    background: #68ddbd;
    margin-bottom: 5px;
    border-radius: 4px;
}

#menuLateral li:hover, #menuSubcategorias li:hover {
    background: #444;
}

#contenidoProductos {
    margin-left: 460px; /* ancho de ambos men√∫s */
    padding: 20px;
}

.producto {
    display: inline-block;
    width: 180px;
    background: #f5f5f5;
    padding: 10px;
    margin: 10px;
    border-radius: 5px;
    text-align: center;
}

.producto img {
    width: 100%;
    height: auto;
}

  /* ====== FIX DEFINITIVO: SECCIONES OCULTAS POR DEFECTO ====== */



  
</style>
<body>
  
<!-- MEN√ö LATERAL -->
<div id="menuLateral">
  <h2>Categor√≠as</h2>
  <ul id="listaCategorias"></ul>
</div>

<!-- SUBMEN√ö -->
<div id="menuSubcategorias">
  <h2>Subcategor√≠as</h2>
  <ul id="listaSubcategorias"></ul>
</div>

<!-- PRODUCTOS -->
<div id="contenidoProductos">
  <h2>Productos</h2>
  <div id="listaProductos"></div>
</div>




  <!-- TOP BAR -->
  <div class="topbar">
    <div class="logo-top">
      <img src="logo.jpeg" alt="Logo">
    </div>
  
    <div class="search-box">
        <input type="text" id="buscador" placeholder="Buscar productos..." oninput="filterSections(this.value)">
        <button class="btn-search">üîç</button>
    </div>
  
    <div class="telefono-box">
        üìû 351 203-0466
    </div>
  </div>
  
  <!-- MENU SUPERIOR -->
  <div class="menu-top-bar">
    <button onclick="toggleMenu()">‚ò∞ Categor√≠as</button>
    <button onclick="mostrarExtra('home')">Home</button>
    <button onclick="mostrarExtra('ofertas')">Ofertas</button>
    <button onclick="mostrarExtra('novedades')">Novedades</button>
    <button onclick="mostrarExtra('destacados')">Destacados</button>
    <button onclick="mostrarExtra('contacto')">Contacto</button>
  </div>
  
  <!-- MEN√ö LATERAL -->
  <div class="menu abierto" id="menuLateral">
    <!--<button class="cerrar-menu" onclick="toggleMenu()"></button>-->
    <h1>Categor√≠as</h1>
    
    <button onclick="toggleSubmenu(this)">Audio ‚ñº</button>
    <div class="submenu">
        <button onclick="mostrar('Accesorios multimedia')">Accesorios multimedia</button>
        <button onclick="mostrar('Auriculares')">Auriculares</button>
        <button onclick="mostrar('Microfonos')">Micr√≥fonos</button>
        <button onclick="mostrar('Car audio')">Car audio</button>
        <button onclick="mostrar('Accesorios para television')">Accesorios para televisi√≥n</button>
        <button onclick="mostrar('Cables armados para audio')">Cables armados para audio</button>
        <button onclick="mostrar('Desarrollo y reparacion')">Desarrollo y reparaci√≥n</button>
        <button onclick="mostrar('Parlantes,woofers y tweeters')">Parlantes, woofers y tweeters</button>
    </div>
  
    <button onclick="toggleSubmenu(this)">Electricidad ‚ñº</button>
    <div class="submenu">
        <button onclick="mostrar('Accesorios para telefonia y  red')">Accesorios para telefon√≠a y red</button>
        <button onclick="mostrar('Baterias,pilas y accesorios')">Bater√≠as, pilas y accesorios</button>
        <button onclick="mostrar('Fichas llaves y conectores')">Fichas, llaves y conectores</button>
        <button onclick="mostrar('Herramientas')">Herramientas</button>
        <button onclick="mostrar('Cables y accesorios')">Cables y accesorios</button>
        <button onclick="mostrar('Fuentes y transformadores')">Fuentes y transformadores</button>
        <button onclick="mostrar('Peque√±os electrodomesticos')">Peque√±os electrodom√©sticos</button>
    </div>
  
    <button onclick="toggleSubmenu(this)">Electronica ‚ñº</button>
    <div class="submenu">
        <button onclick="mostrar('Accesorios para tv,led,lcd')">Accesorios para TV, LED, LCD</button>
        <button onclick="mostrar('Componentes electronicos')">Componentes electr√≥nicos</button>
        <button onclick="mostrar('Fichas y adptadores')">Fichas y adaptadores</button>
        <button onclick="mostrar('Repuestos para tv')">Repuestos para TV</button>
        <button onclick="mostrar('Cables armados')">Cables armados</button>
        <button onclick="mostrar('Energia alternativa')">Energ√≠a alternativa</button>
        <button onclick="mostrar('Gabinetes plasticos y gabetas')">Gabinetes pl√°sticos y gabetas</button>
        <button onclick="mostrar('Repuestos y accesorios varios')">Repuestos y accesorios varios</button>
    </div>
  
    <button onclick="toggleSubmenu(this)">Iluminaci√≥n ‚ñº</button>
    <div class="submenu">
        <button onclick="mostrar('Accesorios para iluminacion')">Accesorios para iluminaci√≥n</button>
        <button onclick="mostrar('Barrales led de aluminio')">Barrales LED de aluminio</button>
        <button onclick="mostrar('Campanas led')">Campanas LED</button>
        <button onclick="mostrar('Dicroicas led')">Dicroicas LED</button>
        <button onclick="mostrar('Iluminacion vial')">Iluminaci√≥n vial</button>
        <button onclick="mostrar('Modulos led')">M√≥dulos LED</button>
        <button onclick="mostrar('Plaquetas de reemplazo led')">Plaquetas de reemplazo LED</button>
        <button onclick="mostrar('Tubos led')">Tubos LED</button>
        <button onclick="mostrar('Artefactos led')">Artefactos LED</button>
        <button onclick="mostrar('Barras led')">Barras LED</button>
        <button onclick="mostrar('Cintas led')">Cintas LED</button>
        <button onclick="mostrar('Empotrables led')">Empotrables LED</button>
        <button onclick="mostrar('Lamparas led')">L√°mparas LED</button>
        <button onclick="mostrar('Plafones y apliques led')">Plafones y apliques LED</button>
        <button onclick="mostrar('Reflectores led')">Reflectores LED</button>
    </div>
  
    <button onclick="toggleSubmenu(this)">Instrumental ‚ñº</button>
    <div class="submenu">
        <button onclick="mostrar('Accesorios para instrumental')">Accesorios para instrumental</button>
        <button onclick="mostrar('Instrumentales varios')">Instrumentales varios</button>
        <button onclick="mostrar('Osciloscopios digitales')">Osciloscopios digitales</button>
        <button onclick="mostrar('Fuentes de laboratorio')">Fuentes de laboratorio</button>
        <button onclick="mostrar('Multimetros')">Mult√≠metros</button>
        <button onclick="mostrar('Pinzas amperometricas')">Pinzas amperom√©tricas</button>
    </div>
  
    <button onclick="toggleSubmenu(this)">Seguridad ‚ñº</button>
    <div class="submenu">
        <button onclick="mostrar('Camaras')">C√°maras</button>
        <button onclick="mostrar('Alarmas')">Alarmas</button>
    </div>
  </div>
  
  <!-- CONTENIDO -->
  <div class="contenido">
    <div id="home" class="seccion-extra home activa" style="display:block;">
      <div class="slider-contenedor">
         <!-- <div class="slide activo"><img src="video inicio/pinza amperometrica.jpeg" alt="Pinza amperom√©trica"></div>
          <div class="slide"><img src="video inicio/crimpeadora.jpeg" alt="Crimpeadora"></div>
          <div class="puntos">
            <span class="punto activo" onclick="cambiarSlide(0)"></span>
            <span class="punto" onclick="cambiarSlide(1)"></span>
            <span class="punto" onclick="cambiarSlide(2)"></span>
          </div>-->
      </div>
    </div>
    <!-- SECCIONES EXTRA -->
<div id="ofertas" class="seccion-extra" style="display:none;">
<h2>Ofertas</h2>
<div class="slider-contenedor">
    <div class="slide activo"><img src="ofertas/oferta1.jpeg" alt="Oferta 1"></div>
    <div class="slide"><img src="ofertas/oferta2.jpeg" alt="Oferta 2"></div>
    <div class="slide"><img src="ofertas/oferta3.jpeg" alt="Oferta 3"></div>
    <div class="puntos">
      <span class="punto activo" onclick="cambiarSlideExtra(0, 'ofertas')"></span>
      <span class="punto" onclick="cambiarSlideExtra(1, 'ofertas')"></span>
      <span class="punto" onclick="cambiarSlideExtra(2, 'ofertas')"></span>
    </div>
</div>
</div>

<div id="novedades" class="seccion-extra" style="display:none;">
<h2>Novedades</h2>
<div class="slider-contenedor">
    <div class="slide activo"><img src="novedades/novedad1.jpeg" alt="Novedad 1"></div>
    <div class="slide"><img src="novedades/novedad2.jpeg" alt="Novedad 2"></div>
    <div class="slide"><img src="novedades/novedad3.jpeg" alt="Novedad 3"></div>
    <div class="puntos">
      <span class="punto activo" onclick="cambiarSlideExtra(0, 'novedades')"></span>
      <span class="punto" onclick="cambiarSlideExtra(1, 'novedades')"></span>
      <span class="punto" onclick="cambiarSlideExtra(2, 'novedades')"></span>
    </div>
</div>
</div>

<div id="destacados" class="seccion-extra" style="display:none;">
<h2>Destacados</h2>
<div class="slider-contenedor">
    <div class="slide activo"><img src="destacados/destacado1.jpeg" alt="Destacado 1"></div>
    <div class="slide"><img src="destacados/destacado2.jpeg" alt="Destacado 2"></div>
    <div class="slide"><img src="destacados/destacado3.jpeg" alt="Destacado 3"></div>
    <div class="puntos">
      <span class="punto activo" onclick="cambiarSlideExtra(0, 'destacados')"></span>
      <span class="punto" onclick="cambiarSlideExtra(1, 'destacados')"></span>
      <span class="punto" onclick="cambiarSlideExtra(2, 'destacados')"></span>
    </div>
</div>
</div>

  <div id="lateral-secciones">
    
    <div id="Accesorios multimedia" class="seccion"><h2>Accesorios multimedia</h2></div>
    <div id="Auriculares" class="seccion"><h2>Auriculares</h2></div>
    <div id="Microfonos" class="seccion"><h2>Micr√≥fonos</h2></div>
    <div id="Car audio" class="seccion"><h2>Car audio</h2></div>
    <div id="Accesorios para television" class="seccion"><h2>Accesorios para televisi√≥n</h2></div>
    <div id="Cables armados para audio" class="seccion"><h2>Cables armados para audio</h2></div>
    <div id="Desarrollo y reparacion" class="seccion"><h2>Desarrollo y reparaci√≥n</h2></div>
    <div id="Parlantes,woofers y tweeters" class="seccion"><h2>Parlantes, woofers y tweeters</h2></div>
  
    <div id="Accesorios para telefonia y  red" class="seccion"><h2>Accesorios para telefon√≠a y red</h2></div>
    <div id="Baterias,pilas y accesorios" class="seccion"><h2>Bater√≠as, pilas y accesorios</h2></div>
    <div id="Fichas llaves y conectores" class="seccion"><h2>Fichas, llaves y conectores</h2></div>
    <div id="Herramientas" class="seccion"><h2>Herramientas</h2></div>
    <div id="Cables y accesorios" class="seccion"><h2>Cables y accesorios</h2></div>
    <div id="Fuentes y transformadores" class="seccion"><h2>Fuentes y transformadores</h2></div>
    <div id="Peque√±os electrodomesticos" class="seccion"><h2>Peque√±os electrodom√©sticos</h2></div>
  
    <div id="Accesorios para tv,led,lcd" class="seccion"><h2>Accesorios para TV, LED, LCD</h2></div>
    <div id="Componentes electronicos" class="seccion"><h2>Componentes electr√≥nicos</h2></div>
    <div id="Fichas y adptadores" class="seccion"><h2>Fichas y adaptadores</h2></div>
    <div id="Repuestos para tv" class="seccion"><h2>Repuestos para TV</h2></div>
    <div id="Cables armados" class="seccion"><h2>Cables armados</h2></div>
    <div id="Energia alternativa" class="seccion"><h2>Energ√≠a alternativa</h2></div>
    <div id="Gabinetes plasticos y gabetas" class="seccion"><h2>Gabinetes pl√°sticos y gabetas</h2></div>
    <div id="Repuestos y accesorios varios" class="seccion"><h2>Repuestos y accesorios varios</h2></div>
  
    <div id="Accesorios para iluminacion" class="seccion"><h2>Accesorios para iluminaci√≥n</h2></div>
    <div id="Barrales led de aluminio" class="seccion"><h2>Barrales LED de aluminio</h2></div>
    <div id="Campanas led" class="seccion"><h2>Campanas LED</h2></div>
    <div id="Dicroicas led" class="seccion"><h2>Dicroicas LED</h2></div>
    <div id="Iluminacion vial" class="seccion"><h2>Iluminaci√≥n vial</h2></div>
    <div id="Modulos led" class="seccion"><h2>M√≥dulos LED</h2></div>
    <div id="Plaquetas de reemplazo led" class="seccion"><h2>Plaquetas de reemplazo LED</h2></div>
    <div id="Tubos led" class="seccion"><h2>Tubos LED</h2></div>
    <div id="Artefactos led" class="seccion"><h2>Artefactos LED</h2></div>
    <div id="Barras led" class="seccion"><h2>Barras LED</h2></div>
    <div id="Cintas led" class="seccion"><h2>Cintas LED</h2></div>
    <div id="Empotrables led" class="seccion"><h2>Empotrables LED</h2></div>
    <div id="Lamparas led" class="seccion"><h2>L√°mparas LED</h2></div>
    <div id="Plafones y apliques led" class="seccion"><h2>Plafones y apliques LED</h2></div>
    <div id="Reflectores led" class="seccion"><h2>Reflectores LED</h2></div>
  
    <div id="Accesorios para instrumental" class="seccion"><h2>Accesorios para instrumental</h2></div>
    <div id="Instrumentales varios" class="seccion"><h2>Instrumentales varios</h2></div>
    <div id="Osciloscopios digitales" class="seccion"><h2>Osciloscopios digitales</h2></div>
    <div id="Fuentes de laboratorio" class="seccion"><h2>Fuentes de laboratorio</h2></div>
    <div id="Multimetros" class="seccion"><h2>Mult√≠metros</h2></div>
    <div id="Pinzas amperometricas" class="seccion"><h2>Pinzas amperom√©tricas</h2></div>
  
    <div id="Camaras" class="seccion"><h2>C√°maras</h2></div>
    <div id="Alarmas" class="seccion"><h2>Alarmas</h2></div>
  </div>
  
  
  
  
<!-- JAVASCRIPT -->
<script>
  const API = "http://localhost/celsius/api.php"; // tu API
  
  /* --------------------- MEN√ö LATERAL --------------------- */
  function toggleMenu(){
    document.getElementById("menuLateral").classList.toggle("activo");
  }
  
  /* SUBMEN√öS ‚Äì acorde√≥n */
  function toggleSubmenu(boton){
    const submenu = boton.nextElementSibling;
    document.querySelectorAll(".menu .submenu").forEach(s=>{
      if(s!==submenu){
        s.classList.remove("activo");
        s.style.display="none";
      }
    });
    submenu.classList.toggle("activo");
    submenu.style.display = submenu.classList.contains("activo")?"block":"none";
  }
  
  function cerrarSubmenusSecciones(){
    document.querySelectorAll(".menu .submenu").forEach(s=>{
      s.classList.remove("activo");
      s.style.display="none";
    });
  }
  
  /* --------------------- SLIDER HOME --------------------- */
  let indiceSlide = 0;
  const slidesHome = document.querySelectorAll(".slide");
  const puntosHome = document.querySelectorAll(".punto");
  
  function mostrarSlide(n){
    slidesHome.forEach((s,i)=>{
      s.classList.toggle("activo", i===n);
      puntosHome[i].classList.toggle("activo", i===n);
    });
  }
  
  function siguienteSlide(){
    indiceSlide = (indiceSlide +1) % slidesHome.length;
    mostrarSlide(indiceSlide);
  }
  
  setInterval(siguienteSlide,3000);
  puntosHome.forEach((p,i)=>p.addEventListener("click", ()=>{indiceSlide=i; mostrarSlide(i);}));
  mostrarSlide(indiceSlide);
  
  /* --------------------- ALTURA HEADER --------------------- */
  function actualizarAlturaHeader(){
    const header = document.querySelector(".topbar");
    document.documentElement.style.setProperty("--alturaHeader", header.offsetHeight+"px");
  }
  window.addEventListener("load", actualizarAlturaHeader);
  window.addEventListener("resize", actualizarAlturaHeader);
  
  /* --------------------- CARGAR CATEGOR√çAS --------------------- */
  async function cargarCategorias(){
    try{
      const res = await fetch(`${API}?action=categorias`);
      const categorias = await res.json();
      let html="";
      categorias.forEach(cat=>{
        html+=`<li onclick="cargarSubcategorias(${cat.id})">${cat.nombre}</li>`;
      });
      document.getElementById("listaCategorias").innerHTML = html;
    }catch(err){console.error(err);}
  }
  
  /* --------------------- CARGAR SUBCATEGOR√çAS --------------------- */
  async function cargarSubcategorias(categoria_id){
    try{
      const res = await fetch(`${API}?action=subcategorias&categoria_id=${categoria_id}`);
      const subcategorias = await res.json();
      let html="";
      subcategorias.forEach(sub=>{
        html+=`<li onclick="cargarProductos(${sub.id})">${sub.nombre}</li>`;
      });
      document.getElementById("listaSubcategorias").innerHTML = html;
      document.getElementById("listaProductos").innerHTML="";
    }catch(err){console.error(err);}
  }
  
  /* --------------------- CARGAR PRODUCTOS --------------------- */
  async function cargarProductos(subcategoria_id){
    try{
      const res = await fetch(`${API}?action=productos&subcategoria_id=${subcategoria_id}`);
      const productos = await res.json();
      let html="";
      productos.forEach(p=>{
        html+=`
        <div class="producto">
          <img src="${p.imagen||'placeholder.jpg'}">
          <h3>${p.nombre}</h3>
          <p>${p.descripcion||''}</p>
          <strong>$${p.precio}</strong>
        </div>`;
      });
      document.getElementById("listaProductos").innerHTML = html;
    }catch(err){console.error(err);}
  }
  
  /* --------------------- BUSCADOR --------------------- */
  const buscador = document.getElementById("buscador");

  buscador.addEventListener("input", async function () {
      const texto = this.value.trim();
      const seccion = document.getElementById("busquedaResultados");
  
      if(texto === ""){
          // limpiar resultados y mostrar home
          if(seccion) seccion.remove();
          document.querySelectorAll(".seccion-extra").forEach(s => s.style.display = "none");
          document.getElementById("home").style.display = "block";
          return;
      }
  
      cerrarSubmenusSecciones();
  
      // Crear secci√≥n resultados si no existe
      let resultados = seccion;
      if(!resultados){
          resultados = document.createElement("div");
          resultados.id = "busquedaResultados";
          resultados.className = "seccion";
          document.querySelector(".contenido").appendChild(resultados);
      }
  
      resultados.innerHTML = "<h2>Resultados de b√∫squeda</h2><div class='galeria'></div>";
      const galeria = resultados.querySelector(".galeria");
  
      // fetch productos desde BD
      const res = await fetch(`http://localhost/celsius/api.php?action=buscar&texto=${encodeURIComponent(texto)}`);
      const productos = await res.json();
  
      galeria.innerHTML = ""; // limpiar galer√≠a
  
      productos.forEach(p => {
          const div = document.createElement("div");
          div.classList.add("producto");
          div.innerHTML = `
              <img src="${p.imagen || 'placeholder.jpg'}" alt="${p.nombre}">
              <p>${p.nombre}</p>
              <p>${p.descripcion || ''}</p>
              <strong>$${p.precio}</strong>
          `;
          galeria.appendChild(div);
      });
  
      // ocultar otras secciones
      document.querySelectorAll(".seccion-extra, .contenido .seccion").forEach(s => {
          if(s.id !== "busquedaResultados") s.style.display = "none";
      });
  
      resultados.style.display = "block";
  });
  
  /* --------------------- FUNCIONES ADICIONALES --------------------- */
  function mostrarExtra(nombreSeccion){
    cerrarSubmenusSecciones();
    document.querySelectorAll('.seccion-extra').forEach(s=>s.style.display='none');
    const seccion=document.getElementById(nombreSeccion);
    if(seccion) seccion.style.display='block';
    document.querySelectorAll('#lateral-secciones .seccion').forEach(s=>s.style.display='none');
  }
  
  function filterSections(valor){
    const busqueda=valor.toLowerCase();
    document.querySelectorAll('#lateral-secciones .seccion').forEach(s=>{
      s.style.display = s.id.toLowerCase().includes(busqueda)?'block':'none';
    });
    document.querySelectorAll('.submenu').forEach(s=>s.classList.remove('activo'));
  }
  
  /* --------------------- INICIO --------------------- */
  cargarCategorias();
  mostrarExtra('home');
  
  </script>
  